<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Code Samples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mini.png"/></td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">OpenGL Mathematics</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Code Samples </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>This series of samples only shows various GLM functionality.</p>
<h2><a class="anchor" id="sample1"></a>
Compute a Triangle's Normal</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="a00051.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/glm.hpp</a>&gt;</span> <span class="comment">// vec3 normalize cross</span>
 
<a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> computeNormal(
<a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; a, 
<a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; b,
<a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; c)
{
        <span class="keywordflow">return</span> <a class="code" href="a00148.html#gabbb9186ee077ee7664dc51d05df3f43d" title="Returns a vector in the same direction as x but with length of 1.">glm::normalize</a>(<a class="code" href="a00148.html#ga80d7733602afa28b9af215868a25d04d" title="Returns the cross product of x and y.">glm::cross</a>(c - a, b - a));
}
</pre></div><p>A potentially faster, but less accurate alternative:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="a00051.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/glm.hpp</a>&gt;</span> <span class="comment">// vec3 cross</span>
<span class="preprocessor">#include &lt;<a class="code" href="a00040.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/gtx/fast_square_root.hpp</a>&gt;</span> <span class="comment">// fastNormalize</span>
 
<a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> computeNormal(
        <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; a, 
        <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; b,
        <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; c)
{
        <span class="keywordflow">return</span> <a class="code" href="a00171.html#gafa857a1f03e384286b9509b91e3fec1b" title="Faster than the common normalize function but less accurate.">glm::fastNormalize</a>(<a class="code" href="a00148.html#ga80d7733602afa28b9af215868a25d04d" title="Returns the cross product of x and y.">glm::cross</a>(c - a, b - a));
}
</pre></div><h2><a class="anchor" id="sample2"></a>
Matrix Transform</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="a00051.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/glm.hpp</a>&gt;</span> <span class="comment">//vec3, vec4, ivec4, mat4</span>
<span class="preprocessor">#include &lt;<a class="code" href="a00076.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/gtc/matrix_transform.hpp</a>&gt;</span> <span class="comment">//translate, rotate, scale, perspective </span>
<span class="preprocessor">#include &lt;<a class="code" href="a00122.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/gtc/type_ptr.hpp</a>&gt;</span> <span class="comment">//value_ptr</span>
 
<span class="keywordtype">void</span> setUniformMVP(
                GLuint Location, 
                <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; Translate, 
                <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; Rotate)
{
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a> Projection =
        <a class="code" href="a00153.html#ga42d762138a3aa81c5b00c2f433e9e346" title="Creates a matrix for a symetric perspective-view frustum.">glm::perspective</a>(45.0f, 4.0f / 3.0f, 0.1f, 100.f);
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a> ViewTranslate = <a class="code" href="a00153.html#ga0c7210a5aebdb5eb63a0763a08901fd6" title="Builds a translation 4 * 4 matrix created from a vector of 3 components.">glm::translate</a>(
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a>(1.0f),
        Translate);
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a> ViewRotateX = <a class="code" href="a00153.html#ga306df1b8d4f38196690a49180a1b42fd" title="Builds a rotation 4 * 4 matrix created from an axis vector and an angle expressed in degrees...">glm::rotate</a>(
        ViewTranslate,
        Rotate.y, <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a>(-1.0f, 0.0f, 0.0f));
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a> View = <a class="code" href="a00153.html#ga306df1b8d4f38196690a49180a1b42fd" title="Builds a rotation 4 * 4 matrix created from an axis vector and an angle expressed in degrees...">glm::rotate</a>(
        ViewRotateX,
        Rotate.x, <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a>(0.0f, 1.0f, 0.0f));
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a> Model = <a class="code" href="a00153.html#ga7025fba9f6accb7b705200f1a3a0d9e5" title="Builds a scale 4 * 4 matrix created from 3 scalars.">glm::scale</a>(
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a>(1.0f),
        <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a>(0.5f));
        <a class="code" href="a00018.html" title="Template for 4 * 4 matrix of floating-point numbers.">glm::mat4</a> MVP = Projection * View * Model;
        glUniformMatrix4fv(
        Location, 1, GL_FALSE, <a class="code" href="a00157.html#ga74bfd339eac7b5d708eae615edf8ba62" title="Return the constant address to the data of the input parameter.">glm::value_ptr</a>(MVP));
}
</pre></div><h2><a class="anchor" id="sample3"></a>
Vector Types</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="a00051.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/glm.hpp</a>&gt;</span> <span class="comment">//vec2</span>
<span class="preprocessor">#include &lt;<a class="code" href="a00121.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/gtc/type_precision.hpp</a>&gt;</span> <span class="comment">//hvec2, i8vec2, i32vec2</span>
std::size_t <span class="keyword">const</span> VertexCount = 4;
 
<span class="comment">// Float quad geometry</span>
std::size_t <span class="keyword">const</span> PositionSizeF32 = VertexCount * <span class="keyword">sizeof</span>(<a class="code" href="a00145.html#ga80139c81aa2687717598312039cea8d1" title="2 components vector of floating-point numbers.">glm::vec2</a>);
<a class="code" href="a00020.html" title="The basic 2D vector type.">glm::vec2</a> <span class="keyword">const</span> PositionDataF32[VertexCount] =
{
        <a class="code" href="a00145.html#ga80139c81aa2687717598312039cea8d1" title="2 components vector of floating-point numbers.">glm::vec2</a>(-1.0f,-1.0f),
        <a class="code" href="a00145.html#ga80139c81aa2687717598312039cea8d1" title="2 components vector of floating-point numbers.">glm::vec2</a>( 1.0f,-1.0f),
        <a class="code" href="a00145.html#ga80139c81aa2687717598312039cea8d1" title="2 components vector of floating-point numbers.">glm::vec2</a>( 1.0f, 1.0f),
        <a class="code" href="a00145.html#ga80139c81aa2687717598312039cea8d1" title="2 components vector of floating-point numbers.">glm::vec2</a>(-1.0f, 1.0f)
};

<span class="comment">// Half-float quad geometry</span>
std::size_t <span class="keyword">const</span> PositionSizeF16 = VertexCount * <span class="keyword">sizeof</span>(<a class="code" href="a00149.html#ga2cd0b3fe113dc1aa2ee750a85f77c50a" title="Vector of 2 half-precision floating-point numbers.">glm::hvec2</a>);
<a class="code" href="a00020.html" title="The basic 2D vector type.">glm::hvec2</a> <span class="keyword">const</span> PositionDataF16[VertexCount] =
{
        <a class="code" href="a00149.html#ga2cd0b3fe113dc1aa2ee750a85f77c50a" title="Vector of 2 half-precision floating-point numbers.">glm::hvec2</a>(-1.0f, -1.0f),
        <a class="code" href="a00149.html#ga2cd0b3fe113dc1aa2ee750a85f77c50a" title="Vector of 2 half-precision floating-point numbers.">glm::hvec2</a>( 1.0f, -1.0f),
        <a class="code" href="a00149.html#ga2cd0b3fe113dc1aa2ee750a85f77c50a" title="Vector of 2 half-precision floating-point numbers.">glm::hvec2</a>( 1.0f, 1.0f),
        <a class="code" href="a00149.html#ga2cd0b3fe113dc1aa2ee750a85f77c50a" title="Vector of 2 half-precision floating-point numbers.">glm::hvec2</a>(-1.0f, 1.0f)
};

<span class="comment">// 8 bits signed integer quad geometry</span>
std::size_t <span class="keyword">const</span> PositionSizeI8 = VertexCount * <span class="keyword">sizeof</span>(<a class="code" href="a00156.html#ga9ab3f26fa232d5a4d2397d7904eb9069" title="8bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i8vec2</a>);
<a class="code" href="a00020.html" title="The basic 2D vector type.">glm::i8vec2</a> <span class="keyword">const</span> PositionDataI8[VertexCount] =
{
        <a class="code" href="a00156.html#ga9ab3f26fa232d5a4d2397d7904eb9069" title="8bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i8vec2</a>(-1,-1),
        <a class="code" href="a00156.html#ga9ab3f26fa232d5a4d2397d7904eb9069" title="8bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i8vec2</a>( 1,-1),
        <a class="code" href="a00156.html#ga9ab3f26fa232d5a4d2397d7904eb9069" title="8bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i8vec2</a>( 1, 1),
        <a class="code" href="a00156.html#ga9ab3f26fa232d5a4d2397d7904eb9069" title="8bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i8vec2</a>(-1, 1)
};

<span class="comment">// 32 bits signed integer quad geometry</span>
std::size_t <span class="keyword">const</span> PositionSizeI32 = VertexCount * <span class="keyword">sizeof</span>(<a class="code" href="a00156.html#ga587a33330386e50f7ff9a870f1b62ab1" title="32bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i32vec2</a>);
<a class="code" href="a00020.html" title="The basic 2D vector type.">glm::i32vec2</a> <span class="keyword">const</span> PositionDataI32[VertexCount] =
{
        <a class="code" href="a00156.html#ga587a33330386e50f7ff9a870f1b62ab1" title="32bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i32vec2</a> (-1,-1),
        <a class="code" href="a00156.html#ga587a33330386e50f7ff9a870f1b62ab1" title="32bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i32vec2</a> ( 1,-1),
        <a class="code" href="a00156.html#ga587a33330386e50f7ff9a870f1b62ab1" title="32bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i32vec2</a> ( 1, 1),
        <a class="code" href="a00156.html#ga587a33330386e50f7ff9a870f1b62ab1" title="32bit signed integer vector of 2 components. (from GLM_GTC_type_precision extension)">glm::i32vec2</a> (-1, 1)
};
</pre></div><h2><a class="anchor" id="sample4"></a>
Lighting</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="a00051.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/glm.hpp</a>&gt;</span> <span class="comment">// vec3 normalize reflect dot pow</span>
<span class="preprocessor">#include &lt;<a class="code" href="a00093.html" title="OpenGL Mathematics (glm.g-truc.net)">glm/gtx/random.hpp</a>&gt;</span> <span class="comment">// vecRand3</span>
 
<span class="comment">// vecRand3, generate a random and equiprobable normalized vec3</span>
 
<a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> lighting(
        intersection <span class="keyword">const</span> &amp; Intersection,
        material <span class="keyword">const</span> &amp; Material,
        light <span class="keyword">const</span> &amp; Light,
        <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> <span class="keyword">const</span> &amp; View)
{
        <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> Color = <a class="code" href="a00145.html#ga8a44105c47072f9ea1413f15faa31f64" title="3 components vector of floating-point numbers.">glm::vec3</a>(0.0f);
        <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> LightVertor = <a class="code" href="a00148.html#gabbb9186ee077ee7664dc51d05df3f43d" title="Returns a vector in the same direction as x but with length of 1.">glm::normalize</a>(
        Light.position() - Intersection.globalPosition() +
        <a class="code" href="a00199.html#ga451820a46dc2cc4cee6ba1ec1f1ec67c" title="Generate a random normalized 3 component vector. It&#39;s a spherical uniform distribution. (From GLM_GTX_random extension)">glm::vecRand3</a>(0.0f, Light.inaccuracy());
        
        <span class="keywordflow">if</span>(!shadow(
                Intersection.globalPosition(),
                Light.position(),
                LightVertor))
        {
                <span class="keywordtype">float</span> Diffuse = <a class="code" href="a00148.html#gaf7ca312d4c8949ecfe9615d9777aa242" title="Returns the dot product of x and y, i.e., result = x * y.">glm::dot</a>(Intersection.normal(), LightVector);
                <span class="keywordflow">if</span>(Diffuse &lt;= 0.0f)
                <span class="keywordflow">return</span> Color;
                <span class="keywordflow">if</span>(Material.isDiffuse())
                Color += Light.color() * Material.diffuse() * Diffuse;
                
        <span class="keywordflow">if</span>(Material.isSpecular())
        {
                <a class="code" href="a00021.html" title="Basic 3D vector type.">glm::vec3</a> Reflect = <a class="code" href="a00148.html#ga8db5042950e76a6fcb5bbddfbd1d254d" title="For the incident vector I and surface orientation N, returns the reflection direction : result = I - ...">glm::reflect</a>(
                -LightVector,
                Intersection.normal());
                <span class="keywordtype">float</span> Dot = <a class="code" href="a00148.html#gaf7ca312d4c8949ecfe9615d9777aa242" title="Returns the dot product of x and y, i.e., result = x * y.">glm::dot</a>(Reflect, View);
                <span class="keywordtype">float</span> Base = Dot &gt; 0.0f ? Dot : 0.0f;
                <span class="keywordtype">float</span> Specular = <a class="code" href="a00148.html#ga291bf218b9487a321a604265a932a3bc" title="Returns x raised to the y power.">glm::pow</a>(Base, Material.exponent());
                Color += Material.specular() * Specular;
        }
        <span class="keywordflow">return</span> Color;
}
</pre></div> </div></div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
